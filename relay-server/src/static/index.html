<html>
<head>
  <script src="/socket.io/socket.io.js"></script>
  <script src="https://unpkg.com/page/page.js"></script>

  <style>
    html {
    width: 100%;
    height: 100%;
    background-image: linear-gradient(to top, #f3e7e9 0%, #e3eeff 99%, #e3eeff 100%);
}
  </style>
</head>
<body>
  <main style="width: 88vmin; margin: 0 auto;  position: absolute;  top: 50%;   left: 50%;  transform: translate(-50%, -50%);">
    <img src="image/title.svg" style="display: block; width: 66vmin; margin: 0 auto"/>
      <h1 style="text-align: center; margin:3em 0;"> <a style="text-decoration: none; color:#000;"> Press Any key to start </a> </h1>
    <h1 style="text-align: center" id="message"></h1>
  </main>

  <script>
    const socket = io();
    var normalStart = false;

    socket.on('test', (data) => {
      console.log(data);
      document.getElementById('message').innerText = data; 
    });

    socket.on('waiting', function() {
        page('/index', (ctx, next) => {
            $('body').empty();
            $.get('./waiting.html', (res) => {
                $('body').html(res);
            });
            normalStart = true;    
        });
    });

    socket.on('ready', function() {

    });

    socket.on('play', function(data) {
        page('/waiting', (ctx, next) => {
            if(!normalStart) return;
            $('body').empty();
            $.get('./static/play.html', (res) => {
                $('body').html(res);
            });
        });
    });

  </script>

</body>
</html>
